<!DOCTYPE html><html lang="ko"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> ì´í™í‹°ë¸Œìë°” 2ì¥. ê°ì²´ ìƒì„±ê³¼ ì‚­ì œ - 1 Â· Wicksome Blog</title><meta name="description" content="chapter 2. Creating and Destroying Objects in effective java"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.ico"><link rel="stylesheet" href="/css/apollo.css"><link rel="canonical" href="https://wickso.me/2017/02/10/creating-and-destroying-objects-1/"><link rel="search" type="application/opensearchdescription+xml" href="https://wickso.me/atom.xml" title="Wicksome Blog"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/favicon.png" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="/categories/slide/" target="_self" class="nav-list-link">SLIDE</a></li><li class="nav-list-item"><a href="https://github.com/wicksome" target="_blank" class="nav-list-link" rel="external nofollow noopener noreferrer">GITHUB</a></li><li class="nav-list-item"><a href="https://www.linkedin.com/in/yeongjun/" target="_blank" class="nav-list-link" rel="external nofollow noopener noreferrer">RESUME</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">ì´í™í‹°ë¸Œìë°” 2ì¥. ê°ì²´ ìƒì„±ê³¼ ì‚­ì œ - 1</h1><div class="post-info">2017ë…„ 2ì›” 10ì¼<ul class="tags"><li><a href="/tags/java/" title="java" class="tag">java </a></li><li><a href="/tags/effective-java/" title="effective java" class="tag">effective java </a></li></ul></div><div class="post-content"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><p><a href="../../../../2017/02/10/creating-and-destroying-objects-1/#ê·œì¹™-1-ìƒì„±ì-ëŒ€ì‹ -static-factory-method-ì‚¬ìš©ì„-ê³ ë ¤í•˜ì">ê·œì¹™ 1</a> - ìƒì„±ì ëŒ€ì‹  static factory method ì‚¬ìš©ì„ ê³ ë ¤í•˜ì<br><a href="../../../../2017/02/10/creating-and-destroying-objects-1/#ê·œì¹™-2-ìƒì„±ìì˜-ë§¤ê°œë³€ìˆ˜ê°€-ë§ì„-ë•ŒëŠ”-ë¹Œë”-builder-ë¥¼-ê³ ë ¤í•˜ì">ê·œì¹™ 2</a> - ìƒì„±ìì˜ ë§¤ê°œë³€ìˆ˜ê°€ ë§ì„ ë•ŒëŠ” ë¹Œë”(builder)ë¥¼ ê³ ë ¤í•˜ì</p>
<a id="more"></a>
<div class="tip"><br>    <div>ì•„ë˜ ì±…ë¥¼ ì°¸ê³ í•˜ì—¬ í•™ìŠµí•œ ë‚´ìš©ì„ ì •ë¦¬/ê¸°ë¡í•œ í¬ìŠ¤íŠ¸ì…ë‹ˆë‹¤. ìì„¸í•œ ë‚´ìš©ì€ ì±…ì„ ì°¸ê³ í•˜ì‹œê¸° ë°”ë¼ë©°, ë¬¸ì œê°€ ìˆì„ ê²½ìš° ì—°ë½ ë¶€íƒë“œë¦½ë‹ˆë‹¤.</div><br>    <ul><br>        <li>ì¡°ìŠˆì•„ ë¸”ë¡œí¬, ì´ë³‘ì¤€(ì˜®ê¸´ì´), Effective Java, 2íŒ, ì¸ì‚¬ì´íŠ¸, 2015.</li><br>    </ul><br></div>

<hr>
<h2 id="ê·œì¹™-1-ìƒì„±ì-ëŒ€ì‹ -static-factory-method-ì‚¬ìš©ì„-ê³ ë ¤í•˜ì"><a href="#ê·œì¹™-1-ìƒì„±ì-ëŒ€ì‹ -static-factory-method-ì‚¬ìš©ì„-ê³ ë ¤í•˜ì" class="headerlink" title="ê·œì¹™ 1. ìƒì„±ì ëŒ€ì‹  static factory method ì‚¬ìš©ì„ ê³ ë ¤í•˜ì"></a>ê·œì¹™ 1. ìƒì„±ì ëŒ€ì‹  static factory method ì‚¬ìš©ì„ ê³ ë ¤í•˜ì</h2><blockquote>
<p>í´ë˜ìŠ¤ë¥¼ í†µí•´ ê°ì²´ë¥¼ ë§Œë“œëŠ” ë°©ë²•</p>
<ul>
<li>Constructor</li>
<li>Static factory method<br>  (Design Patternsì— ë‚˜ì˜¤ëŠ” [íŒ©í† ë¦¬ ë©”ì„œë“œ íŒ¨í„´][dp-factory-method]ê³¼ ë‹¤ë¥´ë‹¤.)</li>
</ul>
</blockquote>
<p><em>Static factory method ì˜ˆì œ ì½”ë“œ</em></p>
<figure class="highlight java"><table><tr><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Boolean</span> </span>&#123;</div><div class="line">  <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> Boolean TRUE;</div><div class="line">  <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> Boolean FALSE;</div><div class="line"></div><div class="line">  <span class="keyword">private</span> <span class="keyword">boolean</span> value;</div><div class="line"></div><div class="line">  <span class="keyword">static</span> &#123;</div><div class="line">    TRUE = <span class="keyword">new</span> Boolean(<span class="keyword">true</span>);</div><div class="line">    FALSE = <span class="keyword">new</span> Boolean(<span class="keyword">false</span>);</div><div class="line">    <span class="comment">// Q. static ì´ˆê¸°í™” ë¸”ë¡ vs ì„ ì–¸ê³¼ ë™ì‹œì— ìƒì„±</span></div><div class="line">    <span class="comment">// A. ì´ˆê¸°í™” ë¸”ë¡ì€ í´ë˜ìŠ¤ ì´ˆê¸°í™” ë  ë–„ ìˆ˜í–‰í•˜ê³ , ë™ì‹œ ìƒì„±ì€ ì–¸ì œ?</span></div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="function"><span class="keyword">private</span> <span class="title">Boolean</span><span class="params">(<span class="keyword">boolean</span> b)</span> </span>&#123; <span class="keyword">this</span>.value = b; &#125;</div><div class="line"></div><div class="line">  <span class="function"><span class="keyword">private</span> <span class="title">Boolean</span><span class="params">(String str)</span> </span>&#123; <span class="keyword">this</span>.value = <span class="string">"true"</span>.equalsIgnoreCase(str); &#125;</div><div class="line">  	<span class="comment">// Q. str.equalsIgnoreCase("true") ë¥¼ ì•ˆì“°ëŠ” ì´ìœ </span></div><div class="line">  <span class="comment">// A. strì´ nullì´ë©´ NullPointException ë°œìƒ</span></div><div class="line"></div><div class="line">  <span class="comment">// Static factory method</span></div><div class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Boolean <span class="title">valueOf</span><span class="params">(<span class="keyword">boolean</span> b)</span> </span>&#123;</div><div class="line">    <span class="keyword">return</span> b ? Boolean.TRUE : Boolean.FALSE;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  ...</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><div class="line"><span class="keyword">boolean</span> b = (<span class="keyword">boolean</span>)Boolean.TRUE; <span class="comment">// unboxing</span></div><div class="line">Boolean b = (Boolean)<span class="keyword">true</span>; <span class="comment">// boxing</span></div><div class="line">Boolean b = <span class="keyword">true</span>; <span class="comment">// auto boxing</span></div><div class="line">Boolean b = Boolean.valueOf(<span class="keyword">true</span>);</div></pre></td></tr></table></figure>
<p>publicìœ¼ë¡œ ì„ ì–¸ëœ ìƒì„±ì ëŒ€ì‹  Static factory methodë¥¼ ì œê³µí•˜ëŠ” ë°©ë²•ì˜ ì¥ë‹¨ì ì€ ì•„ë˜ì™€ ê°™ë‹¤.</p>
<h4 id="ì¥ì "><a href="#ì¥ì " class="headerlink" title="ì¥ì "></a>ì¥ì </h4><p><em>java.utils.Collections</em> í´ë˜ìŠ¤ì—ëŠ” Static factory methodì˜ ì¥ì ì´ ëŒ€ë¶€ë¶„ ì ìš©ë˜ì–´ ìˆë‹¤.</p>
<figure class="highlight java"><table><tr><td class="code"><pre><div class="line"><span class="keyword">package</span> java.util;</div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Collections</span> </span>&#123; <span class="comment">// 3-3</span></div><div class="line">  <span class="function"><span class="keyword">private</span> <span class="title">Collections</span><span class="params">()</span> </span>&#123;&#125; <span class="comment">// 2-2(Non-instantiable class)</span></div><div class="line"></div><div class="line">  <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> Map EMPTY_MAP = <span class="keyword">new</span> EmptyMap&lt;&gt;(); <span class="comment">// 2-1, 2-2(Singleton)</span></div><div class="line"></div><div class="line">  <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> &lt;K,V&gt; <span class="function">Map&lt;K,V&gt; <span class="title">emptyMap</span><span class="params">()</span> </span>&#123; <span class="comment">// 1, 3-2, 4</span></div><div class="line">    <span class="keyword">return</span> (Map&lt;K,V&gt;) EMPTY_MAP;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="keyword">private</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">EmptyMap</span>&lt;<span class="title">K</span>,<span class="title">V</span>&gt; // 3-1</span></div><div class="line">    <span class="keyword">extends</span> <span class="title">AbstractMap</span>&lt;<span class="title">K</span>,<span class="title">V</span>&gt;</div><div class="line">    <span class="keyword">implements</span> <span class="title">Serializable</span></div><div class="line">  &#123;</div><div class="line">    <span class="comment">/* ... */</span></div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Map</span>&lt;<span class="title">K</span>,<span class="title">V</span>&gt; </span>&#123;<span class="comment">/* ... */</span>&#125;</div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">List</span>&lt;<span class="title">E</span>&gt; <span class="keyword">extends</span> <span class="title">Collection</span>&lt;<span class="title">E</span>&gt; </span>&#123;<span class="comment">/* ... */</span>&#125; <span class="comment">// 3-3</span></div></pre></td></tr></table></figure>
<ol>
<li>ì´í•´í•˜ê¸° ì‰¬ìš´ ì´ë¦„ì˜ ë©”ì„œë“œë¥¼ ìƒì„±ìë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤(ê°€ë…ì„±).<br> í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•˜ëŠ”ë° ìˆì–´ì„œ ë§¤ê°œë³€ìˆ˜ì˜ íƒ€ì…ê³¼ ê°¯ìˆ˜ë¡œ êµ¬ë³„í•˜ëŠ” ê²ƒë³´ë‹¨ ì˜ ì§€ì€ ì´ë¦„ì´ ë” íŒŒì•…í•˜ê¸° ì‰½ë‹¤.</li>
<li><p>í˜¸ì¶œí•  ë•Œë§ˆë‹¤ ì¸ìŠ¤í„´ìŠ¤í™”í•˜ì§€ ì•Šì•„ë„ ëœë‹¤.</p>
<ol>
<li>ë§Œë“  ê°ì²´ë¥¼ ìºì‹œ<sub>cache</sub> í•´ë†“ê³  ì¬ì‚¬ìš©í•˜ì—¬ ê°™ì€ ê°ì²´ê°€ ë¶ˆí•„ìš”í•˜ê²Œ ê±°ë“­ ìƒì„±ë˜ëŠ” ì¼ì„ í”¼í•  ìˆ˜ ìˆë‹¤.<br> <code>Boolean.value(boolean)</code>ëŠ” ì´ ê¸°ë²•ì„ í™œìš©í•œ ì¢‹ì€ ì‚¬ë¡€ë¡œ [Flyweight íŒ¨í„´][dp-flyweight]ê³¼ ìœ ì‚¬í•˜ë‹¤. ë™ì¼í•œ ê°ì²´ê°€ ìš”ì²­ë˜ëŠ” ì¼ì´ ì¦ê³ , íŠ¹íˆ ê°ì²´ë¥¼ ë§Œë“œëŠ” ë¹„ìš©ì´ í´ ë•Œ ì ìš©í•˜ë©´ ì„±ëŠ¥ì„ í¬ê²Œ ê°œì„ í•  ìˆ˜ ìˆë‹¤.</li>
<li><p>ê°™ì€ ê°ì²´ë¥¼ ë°˜ë³µí•´ì„œ ë°˜í™˜í•  ìˆ˜ ìˆë‹¤.</p>
<blockquote>
<p>ì–´ë–¤ ì‹œì ì— ì–´ë–¤ ê°ì²´ê°€ ì–¼ë§ˆë‚˜ ì¡´ì¬í• ì§€ë¥¼ ì •ë°€í•˜ê²Œ ì œì–´í•  ìˆ˜ ìˆë‹¤. ê·¸ëŸ° ê¸°ëŠ¥ì„ ê°–ì¶˜ í´ë˜ìŠ¤ë¥¼ <em>ê°œì²´ í†µì œ í´ë˜ìŠ¤<sub>instance-controlled class</sub></em>ë¼ê³  ë¶€ë¥¸ë‹¤.</p>
</blockquote>
<p> ê°œì²´ í†µì œ í´ë˜ìŠ¤ë¥¼ ì‘ì„±í•˜ëŠ” ì´ìœ ëŠ” ì•„ë˜ì™€ ê°™ë‹¤.</p>
<ul>
<li><a href="#item3">Singleton pattern</a> ì ìš©</li>
<li><p><a href="#item4">Non-instantiable class</a> ìƒì„± ê°€ëŠ¥(e.g. Utility class)</p>
  <figure class="highlight java"><table><tr><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UtilityClass</span> </span>&#123;</div><div class="line">  <span class="function"><span class="keyword">private</span> <span class="title">UtilityClass</span><span class="params">()</span> </span>&#123; <span class="keyword">throw</span> <span class="keyword">new</span> AssertionError(); &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p><a href="#item15">ë¶ˆë³€ í´ë˜ìŠ¤</a></p>
  <figure class="highlight java"><table><tr><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Complex</span> </span>&#123;</div><div class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">double</span> re;</div><div class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">double</span> im;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="title">Complex</span><span class="params">(<span class="keyword">double</span> re, <span class="keyword">double</span> im)</span> </span>&#123;</div><div class="line">        <span class="keyword">this</span>.re = re;</div><div class="line">        <span class="keyword">this</span>.im = im;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Complex <span class="title">valueOf</span><span class="params">(<span class="keyword">double</span> re, <span class="keyword">double</span> im)</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Complex(re, im);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li><a href="#item30">enum</a>ì´ ì´ ê¸°ë²•ì„ ì‚¬ìš©</li>
<li><code>equals()</code> ëŒ€ì‹  <code>==</code> ì—°ì‚°ì ì‚¬ìš© ê°€ëŠ¥</li>
</ul>
</li>
</ul>
</li>
</ol>
</li>
<li><p>ìì‹ ì˜ ì¸ìŠ¤í„´ìŠ¤ë§Œ ë°˜í™˜í•˜ëŠ” ìƒì„±ìì™€ëŠ” ë‹¬ë¦¬, ì„œë¸Œíƒ€ì… ê°ì²´ë„ ë°˜í™˜ ê°€ëŠ¥í•˜ë‹¤.</p>
<blockquote>
<ol>
<li>â€œpublicìœ¼ë¡œ ì„ ì–¸ë˜ì§€ ì•Šì€ í´ë˜ìŠ¤ì˜ ê°ì²´ë¥¼ ë°˜í™˜í•˜ëŠ” APIë¥¼ ë§Œë“¤ ìˆ˜ ìˆë‹¤. ê·¸ëŸ¬ë©´ êµ¬í˜„ ì„¸ë¶€ì‚¬í•­ì„ ê°ì¶œ ìˆ˜ ìˆìœ¼ë¯€ë¡œ ì•„ì£¼ ê°„ê²°í•œ APIê°€ ê°€ëŠ¥í•˜ë‹¤.â€</li>
<li>â€œì´ ê¸°ë²•ì€ ì¸í„°í˜ì´ìŠ¤ ê¸°ë°˜ í”„ë ˆì„ì›Œí¬(interface-based framework) êµ¬í˜„ì— ì í•©í•œë°, ì´ í”„ë ˆì„ì›Œí¬ì—ì„œ ì¸í„°í˜ì´ìŠ¤ëŠ” ì •ì  íŒ©í„°ë¦¬ ë©”ì„œë“œì˜ ë°˜í™˜ê°’ ìë£Œí˜•ìœ¼ë¡œ ì´ìš©ëœë‹¤.â€</li>
<li>â€œê´€ìŠµìƒ ë°˜í™˜ê°’ ìë£Œí˜•ì´ Typeì´ë¼ëŠ” ì´ë¦„ì˜ ì¸í„°í˜ì´ìŠ¤ì¸ ì •ì  íŒ©í„°ë¦¬ ë§¥ì„œë“œë¥¼ Typesë¼ëŠ” ì´ë¦„ì˜ ê°ì²´ ìƒì„± ë¶ˆê°€ëŠ¥ í´ë˜ìŠ¤ì•ˆì— ë‘”ë‹¤.â€</li>
</ol>
</blockquote>
 <figure class="highlight java"><table><tr><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Fruit</span> </span>&#123;</div><div class="line">  <span class="function">String <span class="title">getName</span><span class="params">()</span></span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Fruits</span> </span>&#123;</div><div class="line">  <span class="function"><span class="keyword">private</span> <span class="title">Fruits</span><span class="params">()</span> </span>&#123;&#125;</div><div class="line"></div><div class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Fruit <span class="title">getBanana</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> <span class="keyword">new</span> Banana(); &#125;</div><div class="line"></div><div class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Fruit <span class="title">getApple</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> <span class="keyword">new</span> Apple(); &#125;</div><div class="line"></div><div class="line">  <span class="keyword">private</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Apple</span> <span class="keyword">implements</span> <span class="title">Fruit</span> </span>&#123;</div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</div><div class="line">      <span class="keyword">return</span> <span class="string">"apple"</span>;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="keyword">private</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Banana</span> <span class="keyword">implements</span> <span class="title">Fruit</span> </span>&#123;</div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</div><div class="line">      <span class="keyword">return</span> <span class="string">"banana"</span>;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
 <figure class="highlight java"><table><tr><td class="code"><pre><div class="line"><span class="meta">@Test</span></div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</div><div class="line">  Fruit apple = Fruits.getApple();</div><div class="line">  apple.getName();</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>ì œë„¤ë¦­ í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•˜ëŠ” ì½”ë“œë¥¼ ê°„ê²°í•˜ê²Œ í•´ì¤€ë‹¤.</p>
<p> static íŒ©í† ë¦¬ ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ë©´ ì»´íŒŒì¼ëŸ¬ê°€ íƒ€ì… ì¶”ë¡ (type inference)ìœ¼ë¡œ í•´ê²°í•  ìˆ˜ ìˆë‹¤.</p>
 <figure class="highlight java"><table><tr><td class="code"><pre><div class="line"><span class="comment">// before</span></div><div class="line">Map&lt;String, List&lt;String&gt;&gt; m = <span class="keyword">new</span> HashMap&lt;String, List&lt;String&gt;&gt;();</div><div class="line"></div><div class="line"><span class="comment">// after: 1.6 ë²„ì „</span></div><div class="line"><span class="keyword">public</span> <span class="keyword">static</span> &lt;K, V&gt; <span class="function">HashMap&lt;K, V&gt; <span class="title">newInstance</span><span class="params">()</span> </span>&#123;</div><div class="line">  <span class="keyword">return</span> <span class="keyword">new</span> HashMap&lt;K, V&gt;();</div><div class="line">&#125;</div><div class="line">Map&lt;String, List&lt;String&gt;&gt; m = HahsMap.newInstance();</div><div class="line"></div><div class="line"><span class="comment">// after: 1.7</span></div><div class="line"><span class="comment">// &lt;&gt;(ë‹¤ì´ì•„ëª¬ë“œ) ì—°ì‚°ì ì¶”ê°€</span></div><div class="line">Map&lt;String, List&lt;String&gt;&gt; m = <span class="keyword">new</span> HashMap&lt;&gt;();</div></pre></td></tr></table></figure>
</li>
</ol>
<h4 id="ë‹¨ì "><a href="#ë‹¨ì " class="headerlink" title="ë‹¨ì "></a>ë‹¨ì </h4><ol>
<li><p>Static factory methodë§Œ ìˆëŠ” í´ë˜ìŠ¤ëŠ” publicì´ë‚˜ protectedë¡œ ì„ ì–¸ëœ í´ë˜ìŠ¤ê°€ ì—†ìœ¼ë¯€ë¡œ í•˜ìœ„ í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ ìˆ˜ ì—†ë‹¤.</p>
<figure class="highlight java"><table><tr><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Collections</span> </span>&#123;</div><div class="line">  Collections() &#123;&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// inheritance</span></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CustomCollections</span> <span class="keyword">extends</span> <span class="title">Collections</span> </span>&#123;</div><div class="line">  <span class="function"><span class="keyword">public</span> <span class="title">CustomCollections</span><span class="params">()</span> </span>&#123;</div><div class="line">    <span class="keyword">super</span>(); <span class="comment">// ë¶ˆê°€ëŠ¥</span></div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>ê·¸ëŸ¬ë¯€ë¡œ, <a href="#item16">Composition</a>ì„ ì‚¬ìš©í•œë‹¤.</p>
 <figure class="highlight java"><table><tr><td class="code"><pre><div class="line"><span class="comment">// composition</span></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CustomCollections</span> </span>&#123;</div><div class="line">  <span class="keyword">private</span> Collections collections;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li>ìƒì†ì„ ì‚¬ìš©í•˜ëŠ” ê²½ìš°: <code>is-a</code> ê´€ê³„</li>
<li>ì»´í¬ì§€ì…˜ì„ ì‚¬ìš©í•˜ëŠ” ê²½ìš°: <code>has-a</code> ê´€ê³„</li>
</ul>
</li>
<li><p>ë‹¤ë¥¸ Static factory methodì™€ ì‰½ê²Œ êµ¬ë³„í•  ìˆ˜ ì—†ë‹¤.</p>
<p> API ë¬¸ì„œì— ë©”ì„œë“œì™€ ìƒì„±ìê°€ ë¶„ë¦¬ë˜ì–´ ìˆì§€ë§Œ, static íŒ©í† ë¦¬ ë©”ì„œë“œëŠ” ë‹¤ë¥¸ ë©”ì„œë“œì™€ ì„ì—¬ ì˜ êµ¬ë¶„ë˜ì§€ ì•ŠëŠ”ë‹¤. ê·¸ë˜ì„œ ì»¨ë²¤ì…˜ì„ ì •í•˜ì—¬ ë³´ë‹¤ êµ¬ë³„í•˜ê¸° ì‰½ê²Œ í•œë‹¤.</p>
<ul>
<li><code>valueOf</code>: ìì‹ ì˜ ë§¤ê°œë³€ìˆ˜ì™€ ê°™ì€ ê°’ì„ ê°–ëŠ” ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë°˜í™˜</li>
<li><code>of</code>: <code>valueOf</code> ì¤„ì¸ í˜•íƒœ, <a href="#item32"><em>EnumSet</em></a>ì—ì„œ ì‚¬ìš©</li>
<li><code>getInstance</code>: ë§¤ê°œë³€ìˆ˜ì— ë§ëŠ” ì¸ìŠ¤í„´ìŠ¤ ë°˜í™˜, ì‹±ê¸€í†¤ì¸ ê²½ìš° í•˜ë‚˜ì˜ ì¸ìŠ¤í„´ìŠ¤ ë°˜í™˜</li>
<li><code>newInstance</code>: ìƒˆë¡œìš´ ì¸ìŠ¤í„´ìŠ¤ ë°˜í™˜</li>
<li><code>get</code><em>Type</em>: <code>getInstance</code>ì™€ ìœ ì‚¬í•˜ë‚˜ íŒ©í† ë¦¬ ë©”ì„œë“œê°€ ë‹¤ë¥¸ í´ë˜ìŠ¤ì— ìˆì„ ë•Œ ì‚¬ìš©. ì—¬ê¸°ì„œ <em>Type</em>ì€ íŒ©í† ë¦¬ ë©”ì„œë“œì—ì„œ ë°˜í™˜ë˜ëŠ” ê°ì²´ì˜ íƒ€ì…ì„ ë‚˜íƒ€ë‚¸ë‹¤.</li>
<li><code>new</code><em>Type</em>: <code>get</code><em>Type</em>ì™€ ê°™ìŒ(?)</li>
</ul>
</li>
</ol>
<hr>
<h2 id="ê·œì¹™-2-ìƒì„±ìì˜-ë§¤ê°œë³€ìˆ˜ê°€-ë§ì„-ë•ŒëŠ”-ë¹Œë”builderë¥¼-ê³ ë ¤í•˜ì"><a href="#ê·œì¹™-2-ìƒì„±ìì˜-ë§¤ê°œë³€ìˆ˜ê°€-ë§ì„-ë•ŒëŠ”-ë¹Œë”-builder-ë¥¼-ê³ ë ¤í•˜ì" class="headerlink" title="ê·œì¹™ 2. ìƒì„±ìì˜ ë§¤ê°œë³€ìˆ˜ê°€ ë§ì„ ë•ŒëŠ” ë¹Œë”(builder)ë¥¼ ê³ ë ¤í•˜ì"></a>ê·œì¹™ 2. ìƒì„±ìì˜ ë§¤ê°œë³€ìˆ˜ê°€ ë§ì„ ë•ŒëŠ” ë¹Œë”(builder)ë¥¼ ê³ ë ¤í•˜ì</h2><p>ì„ íƒì  ì¸ìê°€ ë§ì„ ë•Œ ê°ì²´ë¥¼ ìƒì„±í•˜ëŠ” ë°©ë²• ì„¸ ê°€ì§€.</p>
<h4 id="ë°©ë²•-1-ì ì¸µì -ìƒì„±ì-íŒ¨í„´telescoping-constructor-pattern"><a href="#ë°©ë²•-1-ì ì¸µì -ìƒì„±ì-íŒ¨í„´-telescoping-constructor-pattern" class="headerlink" title="ë°©ë²• 1) ì ì¸µì  ìƒì„±ì íŒ¨í„´(telescoping constructor pattern)"></a>ë°©ë²• 1) ì ì¸µì  ìƒì„±ì íŒ¨í„´(telescoping constructor pattern)</h4><blockquote>
<p><em>Bad Practice ğŸ‘</em></p>
</blockquote>
<ul>
<li>ì´ ë°©ë²•ì€ í•„ìˆ˜ ì¸ìë§Œ ë°›ëŠ” ìƒì„±ìë¥¼ í•˜ë‚˜ ì •ì˜í•˜ê³ , ì„ íƒì  ì¸ìë¥¼ ë°›ëŠ” ìƒì„±ìë¥¼ ì¶”ê°€í•˜ëŠ” ê²ƒì´ë‹¤.</li>
<li>ê°ì²´ë¥¼ ìƒì„±í•  ë•ŒëŠ” ì„¤ì •í•˜ë ¤ëŠ” ì¸ì ê°¯ìˆ˜ì— ë§ëŠ” ìƒì„±ìë¥¼ ê³¨ë¼ í˜¸ì¶œí•œë‹¤.</li>
</ul>
<p><strong>ë¬¸ì œì </strong></p>
<ul>
<li>ì„¤ì •í•  í•„ìš”ê°€ ì—†ëŠ” í•„ë“œì—ë„ ì¸ìë¥¼ ì „ë‹¬í•´ì•¼ í•´ì•¼ í•œë‹¤.</li>
<li>ì¸ì ìˆ˜ê°€ ëŠ˜ì–´ë‚ ìˆ˜ë¡ ê°€ë…ì„±ì´ ë–¨ì–´ì§„ë‹¤.</li>
</ul>
<p><em>Code</em></p>
<figure class="highlight java"><table><tr><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</div><div class="line">  <span class="keyword">private</span> <span class="keyword">final</span> String name; <span class="comment">// í•„ìˆ˜</span></div><div class="line">  <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">int</span> age; <span class="comment">// í•„ìˆ˜</span></div><div class="line">  <span class="keyword">private</span> <span class="keyword">final</span> String mail;</div><div class="line">  <span class="keyword">private</span> <span class="keyword">final</span> String city;</div><div class="line">  <span class="keyword">private</span> <span class="keyword">final</span> String state;</div><div class="line"></div><div class="line">  <span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">(String name, <span class="keyword">int</span> age)</span> </span>&#123;</div><div class="line">    <span class="keyword">this</span>(name, age, <span class="string">""</span>);</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">(String name, <span class="keyword">int</span> age, String mail)</span> </span>&#123;</div><div class="line">    <span class="keyword">this</span>(name, age, mail, <span class="string">""</span>);</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">(String name, <span class="keyword">int</span> age, String mail, String city)</span> </span>&#123;</div><div class="line">    <span class="keyword">this</span>(name, age, mail, city, <span class="string">""</span>);</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">(String name, <span class="keyword">int</span> age, String mail, String city, String state)</span> </span>&#123;</div><div class="line">    <span class="keyword">this</span>.name = name;</div><div class="line">    <span class="keyword">this</span>.age = age;</div><div class="line">    <span class="keyword">this</span>.mail = mail;</div><div class="line">    <span class="keyword">this</span>.city = city;</div><div class="line">    <span class="keyword">this</span>.state = state;</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><em>Usage</em></p>
<figure class="highlight java"><table><tr><td class="code"><pre><div class="line">Person me = <span class="keyword">new</span> Person(<span class="string">"yeongjun.kim"</span>, <span class="string">"27"</span>);</div><div class="line">Person me = <span class="keyword">new</span> Person(<span class="string">"yeongjun.kim"</span>, <span class="string">"27"</span>, <span class="string">"opid911@gmail.com"</span>);</div></pre></td></tr></table></figure>
<h4 id="ë°©ë²•-2-javabeans-íŒ¨í„´"><a href="#ë°©ë²•-2-JavaBeans-íŒ¨í„´" class="headerlink" title="ë°©ë²• 2) JavaBeans íŒ¨í„´"></a>ë°©ë²• 2) JavaBeans íŒ¨í„´</h4><blockquote>
<p><em>Bad Practice ğŸ‘</em></p>
</blockquote>
<ul>
<li>ì¸ì ì—†ëŠ” ìƒì„±ìë¥¼ í˜¸ì¶œí•˜ì—¬ ê°ì²´ë¥¼ ë§Œë“¤ê³ , setterë¡œ ê°’ ì„¤ì •í•˜ëŠ” ë°©ë²•.</li>
<li>ê°ì²´ ìƒì„±ë„ ì‰½ê³ , ê°€ë…ì„±ë„ ì¢‹ë‹¤.</li>
</ul>
<p><strong>ë¬¸ì œì </strong></p>
<ul>
<li>1íšŒì˜ í•¨ìˆ˜ í˜¸ì¶œë¡œ ê°ì²´ ìƒì„±ì„ ëë‚¼ ìˆ˜ ì—†ìœ¼ë¯€ë¡œ, ê°ì²´ ì¼ê´€ì„±ì´ ì¼ì‹œì‘ìœ¼ë¡œ ê¹¨ì§ˆ ìˆ˜ ìˆë‹¤.</li>
<li>ë³€ê²½ ë¶ˆê°€ëŠ¥ í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ ìˆ˜ ì—†ë‹¤. í•´ê²°í•˜ê¸° ìœ„í•´ì„œ ì¶”ê°€ êµ¬í˜„í•  ì½”ë“œê°€ ë§ì•„ì§„ë‹¤.</li>
</ul>
<p><em>Code</em></p>
<figure class="highlight java"><table><tr><td class="code"><pre><div class="line"><span class="meta">@Setter</span></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</div><div class="line">  <span class="keyword">private</span> String name;</div><div class="line">  <span class="keyword">private</span> <span class="keyword">int</span> age;</div><div class="line">  <span class="keyword">private</span> String mail;</div><div class="line">  <span class="keyword">private</span> String city;</div><div class="line">  <span class="keyword">private</span> String state;</div><div class="line"></div><div class="line">  <span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">()</span> </span>&#123;&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><em>Usage</em></p>
<figure class="highlight java"><table><tr><td class="code"><pre><div class="line">Person me = <span class="keyword">new</span> Person();</div><div class="line">me.setName(<span class="string">"yeongjun.kim"</span>);</div><div class="line">me.setAge(<span class="number">27</span>);</div></pre></td></tr></table></figure>
<h4 id="ë°©ë²•-3-builder-íŒ¨í„´ï¸dp-builder"><a href="#ë°©ë²•-3-Builder-íŒ¨í„´-â†©ï¸-dp-builder" class="headerlink" title="ë°©ë²• 3) Builder íŒ¨í„´[â†©ï¸][dp-builder]"></a>ë°©ë²• 3) Builder íŒ¨í„´[â†©ï¸][dp-builder]</h4><blockquote>
<p><strong><em>Good Practice ğŸ‘</em></strong></p>
</blockquote>
<ul>
<li><p>í•„ìˆ˜ ì¸ìë“¤ì„ ìƒì„±ì(ë˜ëŠ” ì •ì  íŒ©í„°ë¦¬ ë©”ì„œë“œ)ì— ì „ë‹¬í•˜ì—¬ ë¹Œë” ê°ì²´ë¥¼ ë§Œë“¤ê³ , ì„ íƒì  ì¸ìë“¤ì„ ì¶”ê°€í•œ ë’¤, ë§ˆì§€ë§‰ì— <code>build()</code>ë¥¼ í˜¸ì¶œí•˜ì—¬ Immutable ê°ì²´ë¥¼ ë§Œë“œëŠ” ë°©ë²•.</p>
<p>  <em>Code</em></p>
  <figure class="highlight java"><table><tr><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</div><div class="line">  <span class="keyword">private</span> <span class="keyword">final</span> String name;</div><div class="line">  <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">int</span> age;</div><div class="line">  <span class="keyword">private</span> <span class="keyword">final</span> String mail;</div><div class="line">  <span class="keyword">private</span> <span class="keyword">final</span> String city;</div><div class="line">  <span class="keyword">private</span> <span class="keyword">final</span> String state;</div><div class="line"></div><div class="line">  <span class="comment">// ë¹Œë” ê°ì²´</span></div><div class="line">  <span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Builder</span> </span>&#123;</div><div class="line">    <span class="comment">// í•„ìˆ˜ ì¸ì</span></div><div class="line">    <span class="keyword">private</span> <span class="keyword">final</span> String name;</div><div class="line">    <span class="keyword">private</span> <span class="keyword">final</span> String age;</div><div class="line">    <span class="comment">// ì„ íƒì  ì¸ì - ê¸°ë³¸ê°’ìœ¼ë¡œ ì´ˆê¸°í™”</span></div><div class="line">    <span class="keyword">private</span> <span class="keyword">final</span> String mail = <span class="string">""</span>;</div><div class="line">    <span class="keyword">private</span> <span class="keyword">final</span> String city = <span class="string">""</span>;</div><div class="line">    <span class="keyword">private</span> <span class="keyword">final</span> String state = <span class="string">""</span>;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Builder</span><span class="params">(String of, <span class="keyword">int</span> age)</span> </span>&#123;</div><div class="line">      <span class="keyword">this</span>.name = name;</div><div class="line">      <span class="keyword">this</span>.age = age;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> Builder <span class="title">mail</span><span class="params">(String mail)</span> </span>&#123;</div><div class="line">      <span class="keyword">this</span>.mail = mail;</div><div class="line">      <span class="keyword">return</span> <span class="keyword">this</span>;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> Builder <span class="title">city</span><span class="params">(String city)</span> </span>&#123;</div><div class="line">      <span class="keyword">this</span>.city = city;</div><div class="line">      <span class="keyword">return</span> <span class="keyword">this</span>;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> Builder <span class="title">state</span><span class="params">(String state)</span> </span>&#123;</div><div class="line">      <span class="keyword">this</span>.state = state;</div><div class="line">      <span class="keyword">return</span> <span class="keyword">this</span>;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> Person <span class="title">build</span><span class="params">()</span> </span>&#123;</div><div class="line">      <span class="keyword">return</span> <span class="keyword">new</span> Person(<span class="keyword">this</span>);</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="function"><span class="keyword">private</span> <span class="title">Person</span><span class="params">(Builder builder)</span> </span>&#123;</div><div class="line">    <span class="keyword">this</span>.name = name;</div><div class="line">    <span class="keyword">this</span>.age = age;</div><div class="line">    <span class="keyword">this</span>.mail = mail;</div><div class="line">    <span class="keyword">this</span>.city = city;</div><div class="line">    <span class="keyword">this</span>.state = state;</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>  <em>Usage</em></p>
  <figure class="highlight java"><table><tr><td class="code"><pre><div class="line">Person me = Person.Builder(<span class="string">"yeongjun.kim"</span>, <span class="number">27</span>)</div><div class="line">  .mail(<span class="string">"opid911@gmail.com"</span>)</div><div class="line">  .build();</div></pre></td></tr></table></figure>
</li>
<li><p>ë¹Œë” í´ë˜ìŠ¤(<em>Builder</em>)ëŠ” ë¹Œë”ê°€ ë§Œë“œëŠ” ê°ì²´ í´ë˜ìŠ¤(<em>Person</em>)ì˜ ì •ì  ë§´ë²„ í´ë˜ìŠ¤ë¡œ ì •ì˜í•œë‹¤(<a href="#item22">ê·œì¹™ 22</a>).</p>
  <figure class="highlight java"><table><tr><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</div><div class="line">  <span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Builder</span> </span>&#123;</div><div class="line">    ...</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>ë¶ˆë³€ì‹ì„ ì ìš©í•  ìˆ˜ ìˆìœ¼ë©°, build()ì—ì„œ ë¶ˆë³€ì‹ì´ ìœ„ë°˜ë˜ì—ˆëŠ”ì§€ ê²€ì‚¬í•  ìˆ˜ ìˆë‹¤.</p>
  <figure class="highlight java"><table><tr><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</div><div class="line">  <span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Builder</span> </span>&#123;</div><div class="line">    ...</div><div class="line">    <span class="function"><span class="keyword">public</span> Person <span class="title">build</span><span class="params">()</span> </span>&#123;</div><div class="line">      Person result = <span class="keyword">new</span> Person(<span class="keyword">this</span>);</div><div class="line">      <span class="keyword">if</span>(<span class="comment">/* resultì˜ ê°’ ê²€ì‚¬ */</span>) &#123;</div><div class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> IllegalStateException(<span class="comment">/* ìœ„ë°˜ ì›ì¸ */</span>);</div><div class="line">      &#125;</div><div class="line">      <span class="keyword">return</span> result;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li>ë¹Œë” ê°ì²´ì—ì„œ ì‹¤ì œ ê°ì²´ë¡œ ì¸ìê°€ ë³µì‚¬ëœ ë‹¤ìŒì— ë¶ˆë³€ì‹ë“¤ì„ ê²€ì‚¬í•  ìˆ˜ ìˆë‹¤ëŠ” ê²ƒ, ê·¸ë¦¬ê³  ê·¸ ë¶ˆë³€ì‹ì„ ë¹Œë” ê°ì²´ì˜ í•„ë“œê°€ ì•„ë‹ˆë¼ ì‹¤ì œ ê°ì²´ì˜ í•„ë“œë¥¼ ë‘ê³  ê²€ì‚¬í•  ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì€ ì¤‘ìš”í•˜ë‹¤(<a href="#item39">ê·œì¹™ 39</a>).</li>
<li>ë¶ˆë³€ì‹ì„ ìœ„ë°˜í•œ ê²½ìš°, <em>build()</em>ëŠ” <em>IllegalStateException</em>ì„ ë˜ì ¸ì•¼ í•œë‹¤(<a href="#item60">ê·œì¹™ 60</a>).</li>
<li><p>ì˜ˆì™¸ ê°ì²´ë¥¼ ì‚´í´ë³´ë©´ ì–´ë–¤ ë¶ˆë³€ì‹ì„ ìœ„ë°˜í–ˆëŠ”ì§€ ì•Œì•„ë‚¼ ìˆ˜ë„ ìˆì–´ì•¼ í•œë‹¤(<a href="#item63">ê·œì¹™ 63</a>).</p>
<p><em>cf. ë¶ˆë³€ì‹ì„ ê°•ì œí•˜ëŠ” ë°©ë²•</em></p>
</li>
<li><p>ë¶ˆë³€ì‹ì´ ì ìš©ë  ê°’ ì „ë¶€ë¥¼ ì¸ìë¡œ ë°›ëŠ” setterë¥¼ ì •ì˜í•˜ëŠ” ë°©ë²•.</p>
</li>
<li>setterëŠ” ë¶ˆë³€ì‹ì´ ë§Œì¡±í•˜ì§€ ì•Šìœ¼ë©´ <em>IllegalArgumentException</em>ì„ ë˜ì§.</li>
<li><p>build()ê°€ í˜¸ì¶œë˜ê¸° ì „ì— ë¶ˆë³€ì‹ì„ ê¹¨ëœ¨ë¦¬ëŠ” ì¸ìê°€ ì „ë‹¬ë˜ì—ˆë‹¤ëŠ” ê²ƒì„ ì‹ ì†í•˜ê²Œ ì•Œ ìˆ˜ ìˆëŠ” ì¥ì .</p>
<figure class="highlight java"><table><tr><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</div><div class="line">  ...</div><div class="line"></div><div class="line">  <span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Builder</span> </span>&#123;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> Builder <span class="title">setNameAndAge</span><span class="params">(String name, <span class="keyword">int</span> ate)</span> </span>&#123;</div><div class="line">      <span class="keyword">if</span>(name == <span class="keyword">null</span>) &#123;</div><div class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException();</div><div class="line">      &#125;</div><div class="line">      <span class="keyword">return</span> <span class="keyword">this</span>;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    ...</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> Person <span class="title">build</span><span class="params">()</span> </span>&#123;</div><div class="line">      <span class="keyword">return</span> <span class="keyword">new</span> Person(<span class="keyword">this</span>);</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">  ...</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>ë©”ì„œë“œë§ˆë‹¤ í•˜ë‚˜ì”©, í•„ìš”í•œ ë§Œí¼ varargs ì¸ìë¥¼ ë°›ì„ ìˆ˜ ìˆë‹¤.</p>
  <figure class="highlight java"><table><tr><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</div><div class="line">  <span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Builder</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> Builder <span class="title">names</span><span class="params">(String... names)</span> </span>&#123;</div><div class="line">      <span class="keyword">this</span>.names = names;</div><div class="line">      <span class="keyword">return</span> <span class="keyword">this</span>;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> Builder <span class="title">foramily</span><span class="params">(String... names)</span> </span>&#123;</div><div class="line">      <span class="keyword">this</span>.farther = names[<span class="number">0</span>];</div><div class="line">      <span class="keyword">this</span>.marther = names[<span class="number">1</span>];</div><div class="line">      <span class="keyword">return</span> <span class="keyword">this</span>;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">  ...</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>ìœ ì—°í•˜ë‹¤. (e.g. ê°ì²´ê°€ ë§Œë“¤ì–´ì§ˆ ë•Œë§ˆë‹¤ ìë™ì ìœ¼ë¡œ ì¦ê°€í•˜ëŠ” ì¼ë ¨ë²ˆí˜¸ ê°™ì€ ê²ƒì„ ì±„ìš¸ ìˆ˜ ìˆë‹¤)</p>
</li>
<li><p>ì¸ìê°€ ì„¤ì •ëœ ë¹Œë”ëŠ” í›Œë¥­í•œ [Abstract Factory][dp-abstract-factory]ë‹¤. JDK1.5 ì´ìƒì„ ì‚¬ìš©í•˜ëŠ” ê²½ìš°, ì œë„¤ë¦­ ìë£Œí˜• í•˜ë‚˜ë©´ ì–´ë–¤ ìë£Œí˜•ì˜ ê°ì²´ë¥¼ ë§Œë“œëŠ” ë¹Œë”ëƒì˜ ê´€ê³„ ì—†ì´ ëª¨ë“  ë¹Œë”ì— ì ìš©í•  ìˆ˜ ìˆë‹¤.</p>
  <figure class="highlight java"><table><tr><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Builder</span>&lt;<span class="title">T</span>&gt; </span>&#123;</div><div class="line">  <span class="function"><span class="keyword">public</span> T <span class="title">build</span><span class="params">()</span></span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
  <figure class="highlight java"><table><tr><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</div><div class="line">  <span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Builder</span> <span class="keyword">implements</span> <span class="title">Builder</span>&lt;<span class="title">Person</span>&gt; </span>&#123;</div><div class="line">    ...</div><div class="line">    <span class="function"><span class="keyword">public</span> Person <span class="title">build</span><span class="params">()</span> </span>&#123;</div><div class="line">      <span class="keyword">return</span> <span class="keyword">new</span> Person(<span class="keyword">this</span>);</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>  <strong>e.g.</strong> <em>Code at package <code>java.util.stream</code></em></p>
  <figure class="highlight java"><table><tr><td class="code"><pre><div class="line">Stream.builder().add(<span class="number">1</span>).add(<span class="number">2</span>).add(<span class="number">3</span>).build();</div></pre></td></tr></table></figure>
</li>
<li><p>ë¹Œë” ê°ì²´ë¥¼ ì¸ìë¡œ ë°›ëŠ” ë©”ì„œë“œëŠ” ë³´í†µ <em>í•œì •ì  ì™€ì¼ë“œì¹´ë“œ ìë£Œí˜•<sub>bounded wildcard type</sub></em>ì„ í†µí•´ ì¸ìì˜ ìë£Œí˜•ì„ ì œí•œí•œë‹¤(<a href="#items28">ê·œì¹™ 28</a>).</p>
  <figure class="highlight java"><table><tr><td class="code"><pre><div class="line"><span class="function">Tree <span class="title">buildTree</span><span class="params">(Builder&lt;? extends Node&gt; nodeBuilder)</span> </span>&#123;...&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>ìë°”ê°€ ì œê³µí•˜ëŠ” ì¶”ìƒì  íŒ©í† ë¦¬ë¡œëŠ” Class ê°ì²´ê°€ ìˆìœ¼ë©°, ì´ ê°ì²´ì˜ <em>newInstance()</em> ê°€ build ë©”ì„œë“œ êµ¬ì‹¤ì„ í•œë‹¤.</p>
<p>  <strong>í•˜ì§€ë§Œ,</strong> newInstance()ëŠ” í•­ìƒ ë¬´ì¸ì ìƒì„±ìë¥¼ í˜¸ì¶œí•˜ë ¤ í•˜ëŠ”ë°, ë¬¸ì œëŠ” ê·¸ëŸ° ìƒì„±ìê°€ ì—†ì„ ìˆ˜ë„ ìˆë‹¤ëŠ” ê²ƒ. TO-DO</p>
</li>
</ul>
<p><strong>ë¬¸ì œì </strong></p>
<ul>
<li>ë¹Œë” ê°ì²´ë¥¼ ë§Œë“œëŠ” ì˜¤ë²„í—¤ë“œê°€ ë¬¸ì œê°€ ë  ìˆ˜ ìˆë‹¤(ì„±ëŠ¥ì´ ì¤‘ìš”í•œ ìƒí™©). ê·¸ëŸ¬ë‹ˆ ì¸ì ê°¯ìˆ˜ê°€ í†µì œí•  ìˆ˜ ì—†ì„ ì •ë„ë¡œ ë§ì•„ì§€ë§Œ ë¹Œë” íŒ¨í„´ì„ ì ìš©í•˜ì.</li>
</ul>
<h4 id="ìš”ì•½"><a href="#ìš”ì•½" class="headerlink" title="ìš”ì•½"></a>ìš”ì•½</h4><p>ë¹Œë” íŒ¨í„´ì€ ì¸ìê°€ ë§ì€ ìƒì„±ìë‚˜ ì •ì  íŒ©í„°ë¦¬ê°€ í•„ìš”í•œ í´ë˜ìŠ¤ë¥¼ ì„¤ê³„í•  ë•Œ, íŠ¹ì‹œ ëŒ€ë¶€ë¶„ì˜ ì¸ìê°€ ì„ íƒì  ì¸ìì¸ ìƒí™©ì— ìœ ìš©í•˜ë‹¤.</p>
<p><strong>cf.</strong> <em>Code with <a href="https://projectlombok.org/features/Builder.html" rel="external nofollow noopener noreferrer" target="_blank">Lombok</a></em> - ì •ì  íŒ©í„°ë¦¬ ë©”ì„œë“œë¡œ êµ¬í˜„</p>
<figure class="highlight java"><table><tr><td class="code"><pre><div class="line"><span class="meta">@Value</span> <span class="comment">// immutable(private, final ì ìš©)</span></div><div class="line"><span class="meta">@Builder</span></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</div><div class="line">  String name;</div><div class="line">  <span class="keyword">int</span> age;</div><div class="line">  String mail;</div><div class="line">  String city;</div><div class="line">  String state;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</div></article></div><div class="addthis_inline_share_toolbox"></div><div class="ad"><script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><ins style="display:block" data-ad-client="ca-pub-2402079508512433" data-ad-slot="9218385844" data-ad-format="auto" class="adsbygoogle"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div></main><footer><div class="paginator"><a href="/2017/02/12/creating-and-destroying-objects-2/" class="prev">PREV</a><a href="/2017/02/10/factory-method-pattern/" class="next">NEXT</a></div><div id="disqus_thread"></div><script>var disqus_shortname = 'wicksome';
var disqus_identifier = '2017/02/10/creating-and-destroying-objects-1/';
var disqus_title = 'ì´í™í‹°ë¸Œìë°” 2ì¥. ê°ì²´ ìƒì„±ê³¼ ì‚­ì œ - 1';
var disqus_url = 'https://wickso.me/2017/02/10/creating-and-destroying-objects-1/';
(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><script id="dsq-count-scr" src="//wicksome.disqus.com/count.js" async></script><div class="copyright"><p>Â© 2017 <a href="https://wickso.me">Yeongjun Kim</a>, powered by <a href="https://hexo.io/" target="_blank" rel="external nofollow noopener noreferrer">Hexo</a> and <a href="https://github.com/pinggod/hexo-theme-apollo" target="_blank" rel="external nofollow noopener noreferrer">hexo-theme-apollo</a>.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script><script src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-58fee1a404df6aa5"></script><!-- - font awesome--><script src="https://use.fontawesome.com/25a562aa7c.js"></script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-43444044-3",'auto');ga('send','pageview');</script></body></html>